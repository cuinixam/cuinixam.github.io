# console_interface.c

## Functions

### ledInterface_init

```{code-block} c
:linenos:
:lineno-start: 9

void ledInterface_init(void)
{
    previousLightValue.red = 255;
    previousLightValue.green = 255;
    previousLightValue.blue = 255;
}
```

### ledInterface

```{code-block} c
:linenos:
:lineno-start: 16

void ledInterface(void)
{
    RGBColor lightValue;

    RteGetLightValue(&lightValue);

    // Check if the light value has changed
    if (lightValue.red != previousLightValue.red ||
        lightValue.green != previousLightValue.green ||
        lightValue.blue != previousLightValue.blue)
    {

        // Update the previous light value
        previousLightValue = lightValue;

        // printf("%d\n", previousLightValue.blue);

        // Get the handle to the current output buffer ...
        HANDLE hConsole = GetStdHandle(STD_OUTPUT_HANDLE);

        // and hide the cursor ...
        CONSOLE_CURSOR_INFO cursorInfo;
        GetConsoleCursorInfo(hConsole, &cursorInfo);
        cursorInfo.bVisible = FALSE;
        SetConsoleCursorInfo(hConsole, &cursorInfo);

        // and print the LED representation.
        printf("\x1b[48;2;%d;%d;%dm", lightValue.red, lightValue.green, lightValue.blue);
        printf("LED\r");
    }
}
```
